<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Informations Complètes de l'Appareil</title>
    <style>
        /* Styles identiques */
    </style>
</head>
<body>
    <div class="container">
        <div class="device-info" id="deviceInfo">Détection de l'appareil...</div>
        
        <!-- Sections d'informations -->
        <div class="info-section"><h3>Informations Système</h3><ul class="info-list" id="infoList"></ul></div>
        <div class="info-section"><h3>Date et Heure</h3><ul class="info-list" id="dateTime"></ul></div>
        <div class="info-section"><h3>Adresse IP</h3><ul class="info-list" id="ipAddress"></ul></div>
        <div class="info-section"><h3>Position GPS</h3><ul class="info-list" id="gpsPosition"></ul></div>
        <div class="info-section"><h3>Propriétés de l'Écran</h3><ul class="info-list" id="screenResolution"></ul></div>
        <div class="info-section"><h3>Profondeur de Couleur</h3><ul class="info-list" id="colorDepth"></ul></div>
        <div class="info-section"><h3>Nombre de Cœurs du Processeur</h3><ul class="info-list" id="cpuCores"></ul></div>
        <div class="info-section"><h3>RAM Disponible</h3><ul class="info-list" id="ram"></ul></div>
        <div class="info-section"><h3>Informations du Navigateur</h3><ul class="info-list" id="browserInfo"></ul></div>
        <div class="info-section"><h3>Système d'Exploitation</h3><ul class="info-list" id="osInfo"></ul></div>
        <div class="info-section"><h3>Langue du Navigateur</h3><ul class="info-list" id="languageInfo"></ul></div>
        <div class="info-section"><h3>Dimensions de la Fenêtre</h3><ul class="info-list" id="windowSize"></ul></div>
        <div class="info-section"><h3>Version de JavaScript</h3><ul class="info-list" id="jsVersion"></ul></div>
        <div class="info-section"><h3>Densité des Pixels de l'Écran</h3><ul class="info-list" id="pixelDensity"></ul></div>
        <div class="info-section"><h3>État de la Batterie</h3><ul class="info-list" id="batteryInfo"></ul></div>
        <div class="info-section"><h3>Connexion Réseau</h3><ul class="info-list" id="networkInfo"></ul></div>

        <button class="refresh-btn" onclick="refreshInfo()">Actualiser</button>
    </div>

    <script>
        // Fonction pour détecter le type d'appareil
        function detectDevice() {
            const userAgent = navigator.userAgent.toLowerCase();
            let device = 'Inconnu';

            if (/android/.test(userAgent)) device = 'Android';
            else if (/iphone|ipad|ipod/.test(userAgent)) device = 'iPhone/iPad/iPod';
            else if (/windows phone/.test(userAgent)) device = 'Windows Phone';
            else if (/tablet/.test(userAgent)) device = 'Tablette';
            else if (/windows/.test(userAgent)) device = 'Ordinateur Windows';
            else if (/macintosh|mac os x/.test(userAgent)) device = 'Mac OS';
            else if (/linux/.test(userAgent)) device = 'Linux';

            return device;
        }

        // Fonction pour obtenir l'adresse IP de l'utilisateur
        async function getIpAddress() {
            try {
                const response = await fetch('https://api.ipify.org?format=json');
                const data = await response.json();
                return data.ip;
            } catch (error) {
                return 'Non disponible';
            }
        }

        // Fonction pour obtenir la position GPS de l'utilisateur
        function getGpsPosition() {
            return new Promise((resolve, reject) => {
                if (navigator.geolocation) {
                    navigator.geolocation.getCurrentPosition(position => {
                        resolve(`${position.coords.latitude}, ${position.coords.longitude}`);
                    }, reject);
                } else {
                    reject('GPS non disponible');
                }
            });
        }

        // Fonctions pour obtenir d'autres informations
        function getScreenResolution() { return `${screen.width} x ${screen.height}`; }
        function getColorDepth() { return screen.colorDepth; }
        function getCpuCores() { return navigator.hardwareConcurrency || 'Non disponible'; }
        function getRam() { return navigator.deviceMemory || 'Non disponible'; }
        function getBrowserInfo() { 
            const browserInfo = navigator.userAgent;
            return /chrome|crios|crmo/.test(browserInfo) ? 'Google Chrome'
                 : /firefox|fxios/.test(browserInfo) ? 'Mozilla Firefox'
                 : /safari/.test(browserInfo) ? 'Safari'
                 : /edge/.test(browserInfo) ? 'Microsoft Edge'
                 : /msie|trident/.test(browserInfo) ? 'Internet Explorer' : 'Inconnu';
        }
        function getOsInfo() { return navigator.platform; }
        function getLanguage() { return navigator.language; }
        function getWindowSize() { return `${window.innerWidth} x ${window.innerHeight}`; }
        function getJsVersion() { return navigator.javaEnabled() ? 'JavaScript activé' : 'JavaScript désactivé'; }
        function getPixelDensity() { return window.devicePixelRatio; }
        function getBatteryInfo() {
            return navigator.getBattery ? navigator.getBattery().then(battery => 
                `${battery.level * 100}% - ${battery.charging ? 'Chargement en cours' : 'Non en charge'}`) : 'Non disponible';
        }
        function getNetworkInfo() { return navigator.connection ? `Type: ${navigator.connection.effectiveType}` : 'Non disponible'; }

        // Fonction principale pour afficher toutes les informations
        async function displayInfo() {
            document.getElementById('deviceInfo').textContent = 'Appareil détecté : ' + detectDevice();

            const infoList = document.getElementById('infoList');
            const infoArray = [
                `Navigateur: <span>${getBrowserInfo()}</span>`,
                `Appareil: <span>${detectDevice()}</span>`
            ];
            infoList.innerHTML = '';
            infoArray.forEach(info => {
                const listItem = document.createElement('li');
                listItem.innerHTML = info;
                infoList.appendChild(listItem);
            });

            // Affichage de l'IP
            const ipAddress = await getIpAddress();
            document.getElementById('ipAddress').innerHTML = `<li>IP: <span>${ipAddress}</span></li>`;

            // Affichage de la position GPS
            try {
                const gpsPosition = await getGpsPosition();
                document.getElementById('gpsPosition').innerHTML = `<li>Position: <span>${gpsPosition}</span></li>`;
            } catch (error) {
                document.getElementById('gpsPosition').innerHTML = `<li>Position: <span>Non disponible</span></li>`;
            }

            // Autres informations affichées
            document.getElementById('screenResolution').innerHTML = `<li>Résolution: <span>${getScreenResolution()}</span></li>`;
            document.getElementById('colorDepth').innerHTML = `<li>Profondeur de couleur: <span>${getColorDepth()} bits</span></li>`;
            document.getElementById('cpuCores').innerHTML = `<li>Cœurs du processeur: <span>${getCpuCores()}</span></li>`;
            document.getElementById('ram').innerHTML = `<li>RAM: <span>${getRam()} Go</span></li>`;
            document.getElementById('browserInfo').innerHTML = `<li>Informations du Navigateur: <span>${getBrowserInfo()}</span></li>`;
            document.getElementById('osInfo').innerHTML = `<li>Système d'Exploitation: <span>${getOsInfo()}</span></li>`;
            document.getElementById('languageInfo').innerHTML = `<li>Langue: <span>${getLanguage()}</span></li>`;
            document.getElementById('windowSize').innerHTML = `<li>Dimensions Fenêtre: <span>${getWindowSize()}</span></li>`;
            document.getElementById('jsVersion').innerHTML = `<li>Version JavaScript: <span>${getJsVersion()}</span></li>`;
            document.getElementById('pixelDensity').innerHTML = `<li>Densité Pixels: <span>${getPixelDensity()}</span></li>`;

            const batteryInfo = await getBatteryInfo();
            document.getElementById('batteryInfo').innerHTML = `<li>Batterie: <span>${batteryInfo}</span></li>`;
            document.getElementById('networkInfo').innerHTML = `<li>Connexion Réseau: <span>${getNetworkInfo()}</span></li>`;
        }

        // Rafraîchir les informations
        function refreshInfo() { displayInfo(); }

        displayInfo();
    </script>
</body>
</html>
